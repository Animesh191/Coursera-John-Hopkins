# Code assumes the files are in the current working directory #Load Data NEI <- readRDS("summarySCC_PM25.rds") SCC <- readRDS("Source_Classification_Code.rds") #Sum emissions data by year and assign more meaningful column names GraphData<-with (NEI,aggregate(NEI[,'Emissions'],by=list(year), sum, na.rm=TRUE)) names(GraphData) <- c('Year', 'TotalEmission') #Convert Emission data to Kilotons GraphData$TotalEmission <- round(GraphData$TotalEmission/1000,2) #Open the Graphics device,plot the data &Close device png(filename='plot1.png', width=480, height=480, units='px') barplot(GraphData$TotalEmission, names.arg=GraphData$Year, main=expression('Total PM2.5 Emmision from all sources for 1999, 2002, 2005, and 2008.'),col='light Green', xlab='Year', ylab=expression(paste('Total PM2.5 Emissions (Kilotons)'))) dev.off()